@model IEnumerable<WebApplication4.Models.ProjectPeopleAllocations>
@{
    ViewBag.Title = "StaffManagementIndex";
    var staff = (List<WebApplication4.Models.Staff>)ViewBag.staff;
}

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Staff Projcet</title>
    <style>
        .linkStyle {
            color : black;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div style="position:absolute;
        top:100px; right:100px;left:300px;
        border:5px; border-color:black">
        <table class="table table-hover">
            <thead style="display:block">
                <tr style="display: table; width: 100%; table-layout: fixed;">
                    <th class="col-md-4">
                        <a style="color:black; text-decoration: none" href="~/Staff/Index">
                            <font>Supervisor</font>
                        </a>
                    </th>
                    <th class="col-md-4">
                        <a style="color:black; text-decoration: none" href="~/Allocations/Index">
                            <font>Normal Projects</font>
                        </a>
                    <th>
                    <th class="col-md-4">
                        <a style="color:black; text-decoration: none" href="~/Allocations/Index">
                            <font>Diffculty Projects</font>
                        </a>
                    <th>
                </tr>
            </thead>
            <tbody>
                @foreach (var staffname in staff)
                {
                    <tr style="display: table; width: 100%; 
                        table-layout: fixed;">
                        <td class="col-md-4">
                            @*@{var staffid = "~/Staff/Detail" + staffname.staffID.ToString()};
                            <a href=@staffid>
                                @staffname.username
                            </a>*@
                            @Html.ActionLink(@staffname.username, "Detail", 
                            new { Controller = "Staff", id = staffname.staffID }, 
                            new{@class= "linkStyle" })
                        </td>
                        <td>
                            @foreach (var project in Model)
                            {
                                if (staffname.staffID == project.personID)
                                {
                                    if (project.Projects.difficult == "no")
                                    {
                                       <div>
                                           @Html.ActionLink(project.Projects.projectScope, "Details", 
                                           new { Controller = "Projects", id = project.projectID }, 
                                           new { @class = "linkStyle" })
                                       </div>
                                        
                                    }
                                }

                            }
                        </td>
                        <td>
                            @foreach (var project in Model)
                            {
                                if (staffname.staffID == project.personID)
                                {
                                    if (project.Projects.difficult == "yes")
                                    {
                                        <div> 
                                            @Html.ActionLink(project.Projects.projectScope, "Details", 
                                            new { Controller = "Projects", id = project.projectID }, 
                                            new { @class = "linkStyle" })
                                        </div>
                                    }
                                }

                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</body>
</html>


